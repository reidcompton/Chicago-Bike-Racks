I"Ô(function() {
  $(document).ready(function() {
    var getBikes, plotBikeRacks, queryDataPortal;
    $('#LocationSubmit').off('click').on('click', function() {
      getBikes();
    });
    getBikes = function() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(plotBikeRacks);
      } else {
        alert('Geolocation is not supported by this browser.');
      }
    };
    plotBikeRacks = function(position) {
      var latitude, longitude;
      latitude = parseFloat(position.coords.latitude.toFixed(6));
      longitude = parseFloat(position.coords.longitude.toFixed(6));
      queryDataPortal(latitude, longitude);
    };
    return queryDataPortal = function(latitude, longitude) {
      $.ajax({
        url: '/home/getBikes',
        data: {
          lat: latitude,
          long: longitude
        },
        success: function(data) {
          return console.log(data);
        }
      });
    };
  });

  return;

}).call(this);
:ET